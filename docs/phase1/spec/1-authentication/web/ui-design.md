# AI Trainer - UI設計書

## 設計方針

- **シンプル第一**: ページ数を最小限に抑え、ホーム画面で基本操作を完結
- **モバイルファースト**: スマートフォンでの利用を想定したレスポンシブデザイン
- **直感的**: 説明なしで使える分かりやすいUI
- **親しみやすさ**: Duolingo風のフレンドリーなデザイン

---

## ページ構成

### 必須ページ（4ページ）

| ページ名 | パス | 目的 | 初回訪問時 |
|---------|------|------|-----------|
| ログイン | `/login` | Google認証 | 最初に表示 |
| 初回設定 | `/onboarding` | 目標設定・AI分析 | 新規ユーザーのみ |
| ホーム | `/` | メイン画面（進捗管理・入力） | ログイン後のデフォルト |
| 設定 | `/settings` | プロフィール・通知設定 | 必要時のみ |

### オプションページ（将来実装）

| ページ名 | パス | 目的 |
|---------|------|------|
| 統計 | `/stats` | 詳細な統計・グラフ |
| 実績 | `/achievements` | バッジ・実績一覧 |

---

## 画面詳細設計

### 1. ログイン画面 (`/login`)

**目的**: ユーザー認証

**レイアウト**:
```
┌─────────────────────────────────┐
│                                 │
│         AI Trainer              │
│                                 │
│      [キャラクターアイコン]      │
│                                 │
│   目標達成をサポートする         │
│   あなたの相棒                   │
│                                 │
│                                 │
│  ┌───────────────────────┐     │
│  │ 🔐 Googleでログイン    │     │
│  └───────────────────────┘     │
│                                 │
└─────────────────────────────────┘
```

**構成要素**:
- サービスロゴ
- キャッチコピー
- キャラクターのイラスト（小）
- Googleログインボタン（大きく目立つ）

**画面遷移**:
- 初回ユーザー → `/onboarding`
- 既存ユーザー → `/`（ホーム）

---

### 2. 初回設定画面 (`/onboarding`)

**目的**: 目標設定とAI分析

**ステップ構成**:

#### Step 1: 目標入力
```
┌─────────────────────────────────┐
│ ← 戻る          [1/3]           │
├─────────────────────────────────┤
│                                 │
│  あなたの目標を教えてください   │
│                                 │
│  ┌───────────────────────────┐ │
│  │ 例: TOEIC 800点取得        │ │
│  └───────────────────────────┘ │
│                                 │
│  達成希望日                      │
│  ┌───────────────────────────┐ │
│  │ 2025-12-31               │ │
│  └───────────────────────────┘ │
│                                 │
│         ┌──────────┐            │
│         │ 次へ →  │            │
│         └──────────┘            │
└─────────────────────────────────┘
```

#### Step 2: AI分析中
```
┌─────────────────────────────────┐
│              [2/3]              │
├─────────────────────────────────┤
│                                 │
│    [キャラクターアニメーション]  │
│                                 │
│   AIが目標を分析しています...   │
│                                 │
│      ━━━━━━━━━━ 60%           │
│                                 │
└─────────────────────────────────┘
```

#### Step 3: AI分析結果の確認
```
┌─────────────────────────────────┐
│ ← 戻る          [3/3]           │
├─────────────────────────────────┤
│  目標: TOEIC 800点取得          │
│  達成日: 2025-12-31             │
│                                 │
│  📊 AI分析結果                  │
│  ┌───────────────────────────┐ │
│  │ 推定学習時間: 200時間      │ │
│  │ 1日の推奨学習: 30分〜1時間 │ │
│  │                           │ │
│  │ 中間ゴール（3つ）:        │ │
│  │ □ 英単語1000語（1ヶ月後） │ │
│  │ □ TOEIC 650点（3ヶ月後）  │ │
│  │ □ TOEIC 750点（5ヶ月後）  │ │
│  └───────────────────────────┘ │
│                                 │
│      ✏️ 中間ゴールを編集        │
│                                 │
│         ┌──────────┐            │
│         │ 開始する │            │
│         └──────────┘            │
└─────────────────────────────────┘
```

**画面遷移**:
- 開始する → `/`（ホーム）

---

### 3. ホーム画面 (`/`) ★メイン画面

**目的**: 日々の進捗管理・入力のワンストップ画面

**レイアウト**:
```
┌─────────────────────────────────────┐
│ AI Trainer    🔔 通知   ⚙️ 設定     │
├─────────────────────────────────────┤
│                                     │
│  ┌─────────────────────────────┐   │
│  │   [キャラクター大きく表示]   │   │
│  │        トレちゃん Lv.15      │   │
│  │     ━━━━━━━━━ 80%          │   │
│  │    次のレベルまで 20 exp     │   │
│  └─────────────────────────────┘   │
│                                     │
│  🎯 現在の目標                      │
│  ┌─────────────────────────────┐   │
│  │ TOEIC 800点取得              │   │
│  │ 📅 達成希望日: 2025-12-31    │   │
│  │ ⏱️  累計学習: 45時間 / 200時間│   │
│  │ ━━━━━━━━ 22.5%             │   │
│  └─────────────────────────────┘   │
│                                     │
│  🏁 次の中間ゴール                  │
│  ┌─────────────────────────────┐   │
│  │ ✅ 英単語1000語（達成済み）   │   │
│  │ 🎯 TOEIC 650点               │   │
│  │    目標日: 2025-03-31        │   │
│  │    進捗: 30時間 / 80時間      │   │
│  │    ━━━━━━ 37.5%            │   │
│  └─────────────────────────────┘   │
│                                     │
│  📅 今月の学習記録                  │
│  ┌─────────────────────────────┐   │
│  │  月  火  水  木  金  土  日   │   │
│  │  [ ]  [✓]  [✓]  [ ]  [✓]  [ ]  [ ] │   │
│  │   1   2   3   4   5   6   7  │   │
│  │                              │   │
│  │  [✓]  [✓]  [ ]  [✓]  [✓]  [✓]  [ ] │   │
│  │   8   9  10  11  12  13  14  │   │
│  │         ↑ 今日                │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌───────────────────────────┐     │
│  │  ✏️ 今日の進捗を記録する    │     │
│  └───────────────────────────┘     │
│                                     │
└─────────────────────────────────────┘
```

**構成要素**:

1. **ヘッダー**:
   - サービスロゴ
   - 通知アイコン
   - 設定アイコン

2. **キャラクターエリア**:
   - キャラクターのイラスト（大きく表示）
   - レベル、経験値バー
   - 次のレベルまでの経験値

3. **目標カード**:
   - 目標タイトル
   - 達成希望日
   - 累計学習時間と進捗バー

4. **中間ゴールカード**:
   - 直近の中間ゴール
   - 達成済みゴールは✅表示
   - 目標日、進捗時間、進捗バー

5. **カレンダービュー**:
   - 月次カレンダー
   - 学習した日は✓表示
   - 今日を強調表示
   - 日付をタップで詳細表示

6. **進捗入力ボタン**（固定）:
   - 大きなCTAボタン
   - タップでモーダル表示

**インタラクション**:

- **カレンダーの日付をタップ**: その日の記録を表示（編集可能）
- **進捗入力ボタンをタップ**: モーダルで入力フォーム表示
- **キャラクターをタップ**: キャラクター詳細・カスタマイズ（将来機能）

---

### 4. 進捗入力モーダル

**目的**: 日々の学習記録を簡単に入力

**レイアウト**:
```
┌─────────────────────────────────┐
│  今日の進捗を記録      ✕ 閉じる │
├─────────────────────────────────┤
│                                 │
│  📅 日付: 2025-12-10 (今日)     │
│                                 │
│  学習内容                        │
│  ┌───────────────────────────┐ │
│  │ 英単語100個暗記            │ │
│  │ リスニング練習30分         │ │
│  └───────────────────────────┘ │
│                                 │
│  学習時間                        │
│  ┌─────┐ 時間  ┌─────┐ 分   │
│  │  1  │      │ 30  │       │
│  └─────┘      └─────┘       │
│                                 │
│  達成度                          │
│  😞  😐  🙂  😊  😄           │
│  1    2   3   4   5            │
│       (選択: 4)                 │
│                                 │
│  ┌───────────────────────────┐ │
│  │      💾 保存する          │ │
│  └───────────────────────────┘ │
│                                 │
│  🎉 キャラが成長します！         │
│                                 │
└─────────────────────────────────┘
```

**簡易入力モード**:
```
┌─────────────────────────────────┐
│  クイック記録          ✕ 閉じる │
├─────────────────────────────────┤
│                                 │
│       今日も頑張りました！       │
│                                 │
│  ┌───────────────────────────┐ │
│  │  👍 今日もやった！ (30分)  │ │
│  └───────────────────────────┘ │
│                                 │
│  ┌───────────────────────────┐ │
│  │  ✏️ 詳細を入力する        │ │
│  └───────────────────────────┘ │
│                                 │
└─────────────────────────────────┘
```

**機能**:
- デフォルト: 今日の日付
- 過去の日付も選択可能
- 簡易入力（ワンタップ）と詳細入力の切り替え
- 保存後にキャラクター成長アニメーション表示

---

### 5. 設定画面 (`/settings`)

**目的**: プロフィール・通知設定

**レイアウト**:
```
┌─────────────────────────────────┐
│ ← 戻る       設定               │
├─────────────────────────────────┤
│                                 │
│  👤 プロフィール                │
│  ┌───────────────────────────┐ │
│  │ [アイコン] 山田太郎        │ │
│  │ yamada@example.com        │ │
│  └───────────────────────────┘ │
│                                 │
│  🔔 通知設定                    │
│  ┌───────────────────────────┐ │
│  │ 通知を受け取る     [ON/OFF]│ │
│  │ 通知時刻: 20:00           │ │
│  └───────────────────────────┘ │
│                                 │
│  🎨 キャラクターカスタマイズ    │
│  ┌───────────────────────────┐ │
│  │ 色: ブルー ▼              │ │
│  │ アクセサリー: リボン ▼    │ │
│  └───────────────────────────┘ │
│                                 │
│  🎯 目標管理                    │
│  ┌───────────────────────────┐ │
│  │ 現在の目標を達成する       │ │
│  │ 現在の目標を放棄する       │ │
│  └───────────────────────────┘ │
│                                 │
│  📤 ログアウト                  │
│                                 │
└─────────────────────────────────┘
```

**機能**:
- プロフィール表示（編集不可、Googleアカウント情報）
- 通知ON/OFF、時刻設定
- キャラクターカスタマイズ（解放済みのもののみ）
- 目標の達成/放棄
- ログアウト

---

## ナビゲーション設計

### 画面遷移フロー

```
ログイン (/login)
    │
    ├─ 初回ユーザー → 初回設定 (/onboarding)
    │                      │
    │                      └─→ ホーム (/)
    │
    └─ 既存ユーザー → ホーム (/)
                          │
                          ├─ 設定 (/settings)
                          │     │
                          │     └─→ ホームに戻る
                          │
                          └─ 進捗入力モーダル（オーバーレイ）
```

### URL構成

| パス | 説明 | 認証 |
|------|------|------|
| `/login` | ログイン画面 | 不要 |
| `/onboarding` | 初回目標設定 | 必須 |
| `/` | ホーム（メイン） | 必須 |
| `/settings` | 設定 | 必須 |

---

## レスポンシブ対応

### モバイル（〜768px）
- 1カラムレイアウト
- カード間の余白を狭める
- フォントサイズを調整
- タップしやすいボタンサイズ（最低44px）

### タブレット（768px〜1024px）
- 1カラムレイアウト（モバイルと同様）
- カード幅を最大600pxに制限

### デスクトップ（1024px〜）
- センター寄せレイアウト（最大幅800px）
- サイドバーに統計情報を表示（オプション）

---

## カラースキーム

### プライマリカラー
- **メインカラー**: ブルー系（#4A90E2）
- **アクセント**: オレンジ系（#F5A623）
- **成功**: グリーン系（#7ED321）
- **警告**: イエロー系（#F8E71C）
- **エラー**: レッド系（#D0021B）

### 背景
- **背景色**: ホワイト（#FFFFFF）
- **カード背景**: ライトグレー（#F7F9FC）

### テキスト
- **プライマリテキスト**: ダークグレー（#333333）
- **セカンダリテキスト**: ミディアムグレー（#666666）

---

## コンポーネント設計

### 再利用可能なコンポーネント

1. **CharacterCard**: キャラクター表示カード
2. **GoalCard**: 目標表示カード
3. **MilestoneCard**: 中間ゴール表示カード
4. **Calendar**: 月次カレンダー
5. **ProgressBar**: 進捗バー
6. **Button**: 各種ボタン（Primary, Secondary, Text）
7. **Modal**: モーダルダイアログ
8. **InputField**: テキスト入力フィールド
9. **RatingPicker**: 達成度選択（絵文字）

---

## アニメーション

### マイクロインタラクション

1. **ボタン**: ホバー時に明るく、クリック時にスケールダウン
2. **カード**: ホバー時に影を強調
3. **進捗バー**: スムーズに伸びるアニメーション
4. **モーダル**: フェードイン・スライドアップ

### キャラクター成長演出

1. **経験値獲得**: 進捗入力後、経験値バーがアニメーション
2. **レベルアップ**: キラキラエフェクト + 効果音
3. **進化**: 特別な演出（画面全体を使った変身アニメーション）

---

## アクセシビリティ

- **キーボード操作**: 全ての操作をキーボードで可能に
- **ARIA属性**: 適切なラベル付け
- **コントラスト比**: WCAG AA準拠（最低4.5:1）
- **フォーカス表示**: 明確なフォーカスリング

---

**作成日**: 2025-12-01
**最終更新日**: 2025-12-01
**バージョン**: 1.0
