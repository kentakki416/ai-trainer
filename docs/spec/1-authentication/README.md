# ユーザー認証機能

## 概要
Google OAuth 2.0 を唯一のサインイン手段として提供し、初回ログイン画面からログイン/サインアップを統合的に行う。認証完了後は JWT によりフロント/バックエンド間でセッションを管理し、ユーザープロフィールを自動生成する。

## Google OAuth
- 認証方式: Google OAuth 2.0 のみ
- セッション管理:
  - Access Token: 有効期限1時間
  - Refresh Token: 有効期限30日

## ユーザープロフィール
ログイン後に自動作成するプロフィールに以下を保存する:
- Google ID
- 名前
- メールアドレス
- プロフィール画像URL

## 関連ドキュメント
- [API仕様書](../api/api-specification.md)
- [データベーススキーマ](../database/database-schema.md)

# 1. 認証機能 - 実装ガイド

このドキュメントは、認証機能を**ステップ単位で動作確認しながら実装する**ためのガイドです。

## 🎨 デザイン要件

### 全体
- **レスポンシブ対応**: すべてのページでPC・タブレット・モバイルに対応
- **メインカラー**: 青（`#3B82F6` / Tailwind CSS `blue-500`をベースカラーとして使用）

### ログイン画面
**PC表示（768px以上）**:
- 左側: Googleログイン/アカウント登録ボタン
- 右側: Lottieアニメーション（トレちゃん）
- 2カラムレイアウト

**モバイル表示（768px未満）**:
- 縦並びレイアウト
- 上部: タイトルとLottieアニメーション
- 下部: Googleログイン/アカウント登録ボタン

## 📋 実装の全体像

```
Step 1: データベースセットアップ（動作確認: DB接続）
  ↓
Step 2: API - Repository層（動作確認: ユーザー作成・取得）
  ↓
Step 3: API - Service層（動作確認: 認証ロジック）
  ↓
Step 4: API - Controller層（動作確認: エンドポイント）
  ↓
Step 5: API - Route層 + DI（動作確認: OAuth → JWT取得）
  ↓
Step 6: Web - Server Actions（動作確認: ログイン・ログアウト）
  ↓
Step 7: Web - ページ実装（動作確認: UI表示）
```

---