# 目標設定・ロードマップ作成機能

## 概要
ユーザーが初回オンボーディングでメイン目標を設定し、AI が中間ゴールや日々のタスクを提案するコア機能。できるだけインタラクティブに状況ヒアリングを行い、パーソナライズされたロードマップを提示する。

## 画面フロー
1. ユーザーが目標内容と達成日を入力
2. AI 分析中のプレースホルダー表示
3. 現在の状況をヒアリング
4. 例を提示して理解度や点数を入力してもらう
5. （将来）AI が追加質問を投げ、理解度を深掘り
6. ロードマップ候補を複数生成し、ユーザーが選択

## メイン目標の設定
### 入力項目
- 目標内容（例: TOEIC 800点）
- 達成希望日
- 目標カテゴリ（学習/資格/スキルなど）
- 現在の状況（例: TOEIC 200点）

### 制約
- メイン目標は一度設定すると変更不可
- 達成年の延期・内容修正不可
- 新規目標を設定するには達成または放棄が必須

## AI による目標分析
1. ユーザー入力を受け取る
2. 現状把握の入力を基にバックエンドが AI API へリクエスト
3. AI は必要学習時間、推奨計画、参考情報などを返す
4. ユーザーが内容を確認し承認

### AI プロンプト例
```
ユーザーが「TOEIC 800点取得」という目標を設定しました。
達成希望日は2025年12月31日です。

ユーザーの現状はTOEIC200点相当です。

以下を返してください:
1. 目標達成に必要な総学習時間の推定
2. 推奨される学習計画
3. 一般的な学習者の実績データ
4. おすすめの学習方法
5. 中間目標
6. 日々の勉強量
```

### コスト最適化
- 無料ユーザーは月3回まで AI 分析を許可

## AI による中間ゴール生成
1. メイン目標と達成日に基づき複数の中間ゴールを生成
2. 各ゴールにはタイトル、達成予定日、必要学習量を含める

### 中間ゴール例（TOEIC 800）
- 英単語帳1冊完了（1.5ヶ月後/30時間）
- TOEIC 500点達成（3ヶ月後/60時間）
- TOEIC 650点達成（6ヶ月後/120時間）
- TOEIC 750点達成（9ヶ月後/180時間）

### 編集機能
- 追加/編集/削除/並び替えを提供

## AI による日々のタスク提案
1. 目標と中間ゴール確定後、逆算で今日やるべきタスクを提案
2. タスクはやるべき内容と必要時間にフォーカス（具体教材は任意入力）

### タスク例
- 英単語30分暗記
- 文法問題30分

### タスク編集
- 追加/編集/削除
- 優先度と所要時間の調整

## 進捗記録（簡易入力）
- タスク設定完了後はワンタップ入力モードへ
- 複数タスクをチェックボックスで一括完了
- 完了時に学習時間を自動記録

## 進捗記録（詳細入力: 有料）
- 学習内容の追記
- 実際の学習時間の調整
- 達成度スライダー
- メモ・感想

### 入力切り替え
- デフォルトは簡易入力
- 「詳細を入力する」で切り替え、後から編集可能

## フィードバック
- 入力完了でキャラクター成長アニメーション
- 経験値増加エフェクト
- レベルアップ演出
- 励ましメッセージやボタン演出

